/**
 * AngularJS Starter Pack
 * @version v0.2.3-dev-2016-11-08
 * @link 
 */
"use strict";angular.module("eklabs.angularStarterPack.jsonEditor",["ui.ace"]),angular.module("eklabs.angularStarterPack.jsonEditor").directive("demoJsonEditor",["$log",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/json-editor/directives/editor/view.html",scope:{json:"=?",callback:"=?",options:"=?",listeners:"=?",height:"=?"},link:function(b){b.$watch("options",function(a){});var c={valid:function(b){a.info("Valid JSON on demoJsonEditor directive",b)}};b.$watch("callback",function(a){a?b.actions=angular.extend({},c,a):b.actions=c});var d={onError:function(a){}};b.$watch("listeners",function(a){a?b.listener=angular.extend({},d,a):b.listener=d}),b.$watch("editorError",function(a){a&&b.listener.onError(a)}),b.$watch("json",function(a){b.aceAvailable=!1,a?b.aceModel=b.convertRequestParamsToJson(a):b.aceModel="{\n\t\n}",b.loadAce=moment().valueOf()}),b.$watch("loadAce",function(a){b.aceOption={mode:"json",require:["ace/ext/language_tools"],theme:"chrome",onLoad:function(a){var c=a.getSession();c.on("changeAnnotation",function(){var c=a.getSession().getAnnotations();c.length?b.editorError=c[0]:(b.editorError=!1,b.currentJson=b.convertToJson(a.getValue()))})}},b.aceAvailable=!0}),b.convertRequestParamsToJson=function(a){if(Array.isArray(a)){var c={};return angular.forEach(a,function(a){c[a.key]=a.value}),b.convertToAce(c)}return b.convertToAce(a)},b.convertAceToParams=function(a,c){var d=[];return angular.forEach(a,function(a,e){a instanceof Object?d=d.concat(b.convertAceToParams(a),c+"."+e):d.push({key:c?c+e:e,value:a})}),d},b.convertToAce=function(a){var b="",c="",d=[],e=JSON.stringify(a);return angular.forEach(e,function(a){"{"==a?(d.push("\t"),b+=a+"\n"+d.join("")):","!=a||'"'!=c&&"e"!=c&&"d"!=c?"}"==a?(d.splice(0,1),b+="\n"+d.join("")+a):b+=a:b+=a+"\n"+d.join(""),c=a}),b},b.convertToJson=function(a){return a?a instanceof Object?a:JSON.parse(a):void 0},b.$watch("height",function(a){b.currentHeight=a-20||800,b.maxHeightContainer=a-45})}}}]),angular.module("eklabs.angularStarterPack.forms",[]),angular.module("eklabs.angularStarterPack.forms").directive("myForm",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/forms/directives/my-form/myFormView.html",scope:{user:"=",callback:"=?"},link:function(b){b.$watch("user",function(a){b.myUser=a});var c={onValid:function(b){a.info("my user is : ",b)}};b.$watch("callback",function(a){a instanceof Object?b.actions=angular.extend({},c,a):b.actions=c})}}}),angular.module("eklabs.angularStarterPack.calendrier",["ui.calendar"]),angular.module("eklabs.angularStarterPack.calendrier").directive("calendrier",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/calendrier/directives/calendrier/calendrierFormView.html",scope:{user:"=",callback:"=?"},link:function(b,c,d,e){var f=new Date,g=f.getDate(),h=f.getMonth(),i=f.getFullYear();b.calEventsExt={color:"#f00",textColor:"yellow",events:[{type:"party",title:"Lunch",start:new Date(i,h,g,12,0),end:new Date(i,h,g,14,0),allDay:!1},{type:"party",title:"Lunch 2",start:new Date(i,h,g,12,0),end:new Date(i,h,g,14,0),allDay:!1},{type:"party",title:"Click for Google",start:new Date(i,h,28),end:new Date(i,h,29),url:"http://google.com/"}]},b.events=[{id:999,title:"Repeating Event",start:new Date(2016,11,14,16,0),allDay:!1},{id:998,title:"Repeating Event",start:new Date(2016,11,24,16,0),allDay:!1},{title:"Birthday Party",start:new Date(2016,11,26,19,0),end:new Date(2016,11,25,22,30),allDay:!1},{title:"Click for Google",start:new Date(2016,11,28),end:new Date(2016,11,29),url:"http://google.com/"}],b.eventSources=[b.events],b.changeTo="French",b.changeView=function(a,b){d.calendars[b].fullCalendar("changeView",a)},b.renderCalender=function(a){d.calendars[a]&&d.calendars[a].fullCalendar("render")},b.alertOnEventClick=function(a,b,c){$scope.alertMessage=a.title+" was clicked "},b.alertOnDrop=function(a,b,c,d,e,f){$scope.alertMessage="Event Droped to make dayDelta "+b},b.alertOnResize=function(a,b,c,d,e,f){$scope.alertMessage="Event Resized to make dayDelta "+b},b.addRemoveEventSource=function(a,b){var c=0;angular.forEach(a,function(d,e){a[e]===b&&(a.splice(e,1),c=1)}),0===c&&a.push(b)},b.addEvent=function(){$scope.events.push({title:"Open Sesame",start:new Date(i,h,28),end:new Date(i,h,29),className:["openSesame"]})},b.remove=function(a){$scope.events.splice(a,1)},b.changeView=function(a,b){d.calendars[b].fullCalendar("changeView",a)},b.renderCalender=function(a){d.calendars[a]&&d.calendars[a].fullCalendar("render")},b.eventRender=function(a,d,e){d.attr({tooltip:a.title,"tooltip-append-to-body":!0}),c(d)(b)},b.calEvents={color:"#f00",events:[{type:"party",title:"Lunch",start:new Date(i,h,g,12,0),end:new Date(i,h,g,14,0),allDay:!1},{type:"party",title:"Lunch",start:new Date(i,h,g,12,0),end:new Date(i,h,g,14,0),allDay:!1},{type:"party",title:"Click for Google",start:new Date(i,h,28),end:new Date(i,h,29),url:"http://google.com/"}]},b.calEvents2=[{className:"green",type:"test",title:"Lunch",start:new Date(i,h,g+1,12,0),end:new Date(i,h,g+1,14,0),allDay:!1},{className:"green",type:"test",title:"Lunch",start:new Date(i,h,g+1,12,0),end:new Date(i,h,g+1,14,0),allDay:!1},{className:"green",type:"test",title:"Click for Google",start:new Date(i,h,26),end:new Date(i,h,26),url:"http://google.com/"}],b.eventSources.push(b.calEvents2),console.log("Bonjour"),console.log(b.eventSources),console.log("test event sources "+b.eventSources),b.$watch("eventSources",function(a){b.eventSources=a}),console.log("event dans directive "+b.events);var j={onValid:function(b){a.info("my user is : ",b)}};b.$watch("callback",function(a){a instanceof Object?b.actions=angular.extend({},j,a):b.actions=j}),b.uiConfig={calendar:{monthNames:["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],height:450,editable:!0,header:{left:"month agendaWeek basicDay ",center:"title",right:"today prev,next"},eventClick:b.alertEventOnClick,eventDrop:b.alertOnDrop,eventResize:b.alertOnResize}}}}}),angular.module("eklabs.angularStarterPack.forms").directive("myForm",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/forms/directives/my-form/myFormView.html",scope:{user:"=",callback:"=?"},link:function(b){b.$watch("user",function(a){b.myUser=a});var c={onValid:function(b){a.info("my user is : ",b)}};b.$watch("callback",function(a){a instanceof Object?b.actions=angular.extend({},c,a):b.actions=c})}}}),angular.module("eklabs.angularStarterPack.notification",[]),angular.module("eklabs.angularStarterPack.notification").directive("notification",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/notification/directives/notification/notificationView.html",scope:{},link:function(a,b){a.showUnreaded=!0,a.showReaded=!1,a.changeVisibility=function(b){b?a.showUnreaded?a.showUnreaded=!1:a.showUnreaded=!0:a.showReaded?a.showReaded=!1:a.showReaded=!0},a.notifications=b.getNotifications()}}}),angular.module("eklabs.angularStarterPack.event",[]),angular.module("eklabs.angularStarterPack.event").directive("event",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/event/directives/event/eventView.html",scope:{user:"=",callback:"=?"},link:function(b){b.$watch("user",function(a){b.myUser=a});var c={onValid:function(b){a.info("my user is : ",b)}};b.$watch("callback",function(a){a instanceof Object?b.actions=angular.extend({},c,a):b.actions=c})}}}),angular.module("eklabs.angularStarterPack.forms").directive("myForm",function(a){return{templateUrl:"eklabs.angularStarterPack/modules/forms/directives/my-form/myFormView.html",scope:{user:"=",callback:"=?"},link:function(b){b.$watch("user",function(a){b.myUser=a});var c={onValid:function(b){a.info("my user is : ",b)}};b.$watch("callback",function(a){a instanceof Object?b.actions=angular.extend({},c,a):b.actions=c})}}}),angular.module("eklabs.angularStarterPack",["eklabs.angularStarterPack.jsonEditor","eklabs.angularStarterPack.forms","eklabs.angularStarterPack.calendrier","eklabs.angularStarterPack.event","eklabs.angularStarterPack.notification"]),angular.module("eklabs.angularStarterPack.calendrier").service("calendrierService",function(a){this.getEvents=function(a){}}),angular.module("eklabs.angularStarterPack").factory("$config",["WEBAPP_CONFIG",function(a){var b=angular.extend({},a);return{get:function(a){return b[a]}}}]),angular.module("eklabs.angularStarterPack.event").service("eventService",function(a){this.createEvent=function(a){},this.updateEvent=function(a){},this.deleteEvent=function(a){},this.addParticipant=function(a){},this.deleteParticipant=function(a){},this.joinEvent=function(a){},this.unsubscribe=function(a){},this.acceptInvitation=function(a){},this.refuseInvitation=function(a){},this.getEvent=function(a){}}),angular.module("demoApp").service("notification",function(){this.getNotifications=function(){$http.get("91.134.241.60:3080/ressources/Event/notification").then(function(a){return a.data})},this.readNotification=function(a){$http.post("91.134.241.60:3080/ressources/Event/notification/"+a).then(function(a){return a.data})}}),angular.module("eklabs.angularStarterPack.event").factory("event",function(a){return{name:a.name,image:a.image,description:a.description,location:a.location,startDate:a.startDate,endDate:a.endDate,organizer:a.organizer,eventStatus:a.eventStatus,attendee:a.attendee,visibility:a.visibility}}),angular.module("eklabs.angularStarterPack.notification").factory("notification",function(a){return{sender:a.sender,dateRead:a.dateRead,dateSend:a.dateSend,location:a.location,recipient:a.recipient,text:a.text}});